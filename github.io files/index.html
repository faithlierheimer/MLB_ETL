<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Baseball: All Fail the Houston Asterisks</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>

<body style="background-color: rgb(87, 97, 207);">
  <div class="container text-center">
    <h1 class="jumbotron" style="background-color: rgb(235, 112, 108);">ETL Project: MLB Stats</h1>
  <div class="container">
    <div class="blurb">
      <p style="color: rgb(255, 255, 255);">This project aims to Extact, Transform, and Load data from a variety of sources into a database.</a></p>
    <div>
      <h2 style="color: rgb(255, 255, 255);">Sources Used
        <h4 style="color: rgb(255, 255, 255);">Stadium Beer Pricing from</h4>
        <h4 style="color: rgb(255, 255, 255);">MLB Stats from MLB-StatsAPI</h4>
        <h4 style="color: rgb(255, 255, 255);">Web Scrape from ESPN STATS</h4>
      </h2>
    </br>
      <h2 style="color: rgb(255, 255, 255);">Beer Pricing</h2>
        <h4 style="color: rgb(255, 255, 255);">Extract</h4>
          <h5 style="color: rgb(255, 255, 255);">A CSV was downloaded from data.world. The CSV was then imported into a Pandas data frame in a Jupyter Notebook.</h5>
        <h4 style="color: rgb(255, 255, 255);">Transform</h4>
          <h5 style="color: rgb(255, 255, 255);">Using Pandas, the "nickname" column wad dropped and all the columns were renamed.</h5>
        <h4 style="color: rgb(255, 255, 255);">Load</h4>
          <h5 style="color: rgb(255, 255, 255);">Once the Pandas dataframe was cleaned up, it was converted into a dictionary usings the Pandas to_dict() function. 
        With the data in the proper format, it was then loaded into a MongoDB Collection: beer_dict. MongoDB was selected to store our data since our data has common attributes (primarily team name), but has different
        numbers of columns and data points. Our data is also more heterogenous than homogenous and therefore is better suited
        for MongoDB.</h5>
    </br>
      <h2 style="color: rgb(255, 255, 255);">MLB API
        <h4 style="color: rgb(255, 255, 255);">Extract</h4>
          <h5 style="color: rgb(255, 255, 255);">Using MLB-StatsAPI a variety of hitting statistics were collected. First the player IDs were collected using the lookup_player command from the API Wrapper. Using a for loop, the player
        ID was used to collect the selected stats for each player. The collected data was then loaded into Pandas data frame.</h5>
        <h4 style="color: rgb(255, 255, 255);">Transform</h4>
          <h5 style="color: rgb(255, 255, 255);">Pandas was used to drop duplicate values and null values were replaced with zeros.</h5>
        <h4 style="color: rgb(255, 255, 255);">Load</h4>
          <h5 style="color: rgb(255, 255, 255);">Again, Pandas was used to convert the data frame into a dictionary and then uploaded to a new MongoDB Collection:
        api_dict</h5> 
      </h2>
    </br>
      <h2 style="color: rgb(255, 255, 255);">ESPN Web Scrape
        <h4 style="color: rgb(255, 255, 255);">Extract</h4>
          <h5 style="color: rgb(255, 255, 255);">Data was scraped from ESPN STATS.  Utlizing the BeautifulSoup Module, the html information was scraped from ESPN's website. Using the find and find_all
        functions, the statistics were pulled from the BeautifulSoup object.  Then a for loop was used to add each player's statistic into a Pandas Dataframe.</h5>
        <h4 style="color: rgb(255, 255, 255);">Transform</h4>
          <h5 style="color: rgb(255, 255, 255);">Pandas was used to drop the following statistics: ['YRS','BB','G','2B','3B']. These were dropped to match the data from the API statistics.</h5>
        <h4 style="color: rgb(255, 255, 255);">Load</h4>
          <h5 style="color: rgb(255, 255, 255);">Pandas was used again to convert the data into a dictionary and then loaded into a new MongoDB Collection:
          scraped_stats_dict.</h5>
      </h2>
    </div>
  </div>
</body>

</html>